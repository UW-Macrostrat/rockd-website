export { DocumentationPage as default } from "~/layouts";
import { LinkCard } from "~/components/cards";
import { PageHeader } from "~/components";

<PageHeader title="Legend Harmonization" showSiteName={false}>
  <span className="subtitle">
    <span className="tertiary">{import.meta.env.VITE_MACROSTRAT_INSTANCE}</span>
  </span>
</PageHeader>

To create the unified interface that Macrostrat provides registered maps must first go through a harmonization step.
This step will align the geologic properties (lithologies, ages, types, etc.) with Macrostrat's internal representations. This alignment
provides value to our ends users by allowing them to query for these geometry characteristics on a global scale.

The following guide details how to use the purpose built user interface to harmonize new data to Macrostrat's internal
representation.

- [Features](#features)
- [Overview](#process-overview)
- [Starred Column Descriptions](#starred-column-description)
- [Table Commands](#table-commands)

## Features:

- Hide and Copy columns
- Standard Filter and Grouping
- Purpose built interfaces for certain columns ( Example: Selection interface for all valid age intervals )
- View of running operations, as well as push and clear functionality
- Virtualized 'infinite' scrolling of table data to keep data downloads web friendly
- Group based auth to prevent outside changes
- Download the ingested map files to view metadata
- (More incoming)

## Process Overview

### 1. Select the map you wish to process

Log in and find the map that you wish to process on the ingestion page, clicking "Edit" will bring you into the ingestion interface.

### 2. Download the ingested maps metadata

Click on the download link to download the metadata for the ingested map, you will need this to provide more
context about the values shown in the table.

### 3. Use the interface to reconcile the map

Using the table interface the user manipulates the ingested data into standardized fields made easier through the above [features](#features). The table will provide feedback on the level of completion as you work and provide a link to view your processed map.

The starred columns (â˜…) denote the columns
that are intended to be populated by the non-star columns which are populated via the ingestion process.

- [Starred Column Description](#starred-column-description)
- [Table Commands](#table-commands)

#### Starred Column Description

All the columns in addition to these are filled in from the ingested map and can typically be transformed via the
table interface to populate these values. Otherwise, we provide the original .zip file that was ingested to help locate the appropriate README files.

**orig_id**

This column is composed of ids for each polygon. The best way to populate this is to copy and paste the column from the ingestion that most closely resembles a list of discrete values.

**descrip**

This column is the description of the polygon.

**ready**

This column is a **True/False** column used to denote a row as "Ready". These "Ready" rows can then be removed by a column filter.

**name**

Name of the polygon, typically taken from the ingestion.

**strat_name**

Name of the stratigraphy.

**age**

Age of the polygon.

**comments**

Any comments that you would like to make can be entered here.

**t_interval**

?

**b_interval**

?

**lith**

?

#### Table Commands

**tab/shift + tab**

Navigate Cells Horizontally

**enter/shift + enter**

Navigate Cells Vertically

**shift + h ( Well a column is selected )**

Hide a column

**cmd + c ( Well a column is selected )**

Copy a column

**cmd + v ( Well a column is selected )**

Paste a column